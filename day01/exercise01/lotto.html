<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>로또 번호 생성</title>

    <script type="text/javascript">

        function Lotto(numbers, balls) {
            /*
              1. Lotto 생성자 함수는 로또 번호의 범위값
              (예를 들어 로또 번호가 1 번부터 45 번까지 있을 경우 가장 큰 값인 45 를 사용)으로 사용할 매개변수 numbers
              와 선택할 공의 갯수로 사용할 매개변수 balls 를 가집니다.
              number 와 balls 매개변수에 전달된 인자는 Lotto 생성자 함수 호출을 통해 생성된 객체의 프로퍼티
              numbers 와 balls 에 각각 저장합니다.

              생성된 로또 번호가 저장되는 속성 luckyNumbers 에는 빈 배열이 저장됩니다

             */
            this.numbers = numbers;
            this.balls = balls;
            this.luckyNumbers = [];
        }

        //로또 번호를 생성한후 속성 luckyNumbers 에 저장하고 리턴하는 메서드
        Lotto.prototype.getLuckyNumbers = function () {

            while (true) {

                var value;
                /*
                 2.Math.random()은 0~1 사이의 실수를 반환하므로 객체의 프로퍼티에 저장되어 있는 numbers 와의
                 곱셈을 통해 만들어진 숫자의 정수부에 1 을 더해 로또 번호를 만들어서 변수 value에 대입합니다

                 Math.floor(Math.random() * this.numbers) + 1
                */
                value = Math.floor(Math.random() * this.numbers) + 1;

                /*
                3.변수 value의 값이 luckyNumbers 의 배열 객체에 이미 존재하는지 indexOf()를 이용해
                검사
                 : this.luckyNumbers.indexOf(value)
                4.존재하지 않을 경우 3의 리턴값은 -1이므로 이때
                 push() 메서드를 이용해서 luckyNumbers 의 배열에 value 변수의 값을 추가합니다.
                 this.luckyNumbers.push(value);

                * */

                if (this.luckyNumbers.indexOf(value) != -1) {
                    continue;
                }
                this.luckyNumbers.push(value);
                /*
                * 5. luckyNumbers배열의 사이즈가 balls속성의 값과 일치하면 반복을 종료 합니다
                * :this.luckyNumbers.length == this.balls
                * */
                if (this.balls == this.luckyNumbers.length) {
                    break;
                }
            }

            return this.luckyNumbers;
        };

        var myLotto = new Lotto(45, 6);
        document.writeln(myLotto.getLuckyNumbers());

    </script>
</head>
<body>

</body>
</html>